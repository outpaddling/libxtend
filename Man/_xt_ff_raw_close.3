\" Generated by c2man from _xt_ff_raw_close.c
.TH _xt_ff_raw_close 3

.SH NAME
_xt_ff_raw_close() - Close a stream created by _xt_ff_raw_open()

.SH LIBRARY
\" Indicate #includes, library name, -L and -l flags
.nf
.na
#include <xtend/fast-file.h>
-lxtend
.ad
.fi

\" Convention:
\" Underline anything that is typed verbatim - commands, etc.
.SH SYNOPSIS
.nf
.na
int     _xt_ff_raw_close(xt_ff_t *stream)
.ad
.fi

.SH ARGUMENTS
.nf
.na
stream  Pointer to an xt_ff_t object opened by xt_ff_open(3)
.ad
.fi

.SH DESCRIPTION

.B _xt_ff_raw_close(3)
closes a xt_ff_t stream opened by _xt_ff_raw_open(3).
It writes out any
remaining data in the output buffer, deallocates memory allocated
by xt_ff_open(3), and closes the underlying file descriptor opened by
open(3).

The xt_ff_t system is simpler than and much faster than
traditional FILE on typical systems.  It is intended for processing
large files character-by-character, where low-level block I/O
is not convenient, but FILE I/O causes a bottleneck.

.SH RETURN VALUES

The return status of the underlying close(3) call

.SH EXAMPLES
.nf
.na

char    *infilename, *outfilename;
xt_ff_t *instream, *outstream;
int     ch;

if ( (instream = xt_ff_open(infilename, O_RDONLY)) == NULL )
{
    fprintf(stderr, "Cannot open %s for reading: %s.n",
            infilename, strerror(errno));
    exit(EX_NOINPUT);
}
if ( (outstream = xt_ff_open(outfilename, O_WRONLY|O_CREAT|O_TRUNC)) == NULL )
{
    fprintf(stderr, "Cannot open %s for writing: %s.n",
            outfilename, strerror(errno));
    exit(EX_NOINPUT);
}
while ( (ch = xt_ff_getc(stream)) != EOF )
    xt_ff_putc(ch, outstream);
xt_ff_close(instream);
xt_ff_close(outstream);
.ad
.fi

.SH SEE ALSO

xt_ff_open(3), xt_ff_getc(3), xt_ff_putc(3)

